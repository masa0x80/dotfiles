#!/bin/bash

# load proxy settings
test -r $HOME/.proxy && source $HOME/.proxy

# PATH
export PATH=/usr/local/bin:/bin:/usr/bin:/sbin:/usr/sbin
if test -d /usr/local/sbin; then
  PATH=$PATH:/usr/local/sbin
fi

# anyenv settings
if test -d $HOME/.anyenv; then
  PATH=$HOME/.anyenv/bin:$PATH
fi
if type -a anyenv > /dev/null 2>&1; then
  eval "$(anyenv init -)"
fi

# golang
export GO_GET_OPTION='-u'
[ `uname` == Linux ] && PATH=$PATH:/usr/local/go/bin
export GOPATH=$HOME/.go
PATH=$PATH:$GOPATH/bin
# Config for golang_tools itamae recipe
export GO_GET_OPTION='-u'

# ref: https://github.com/yyuu/pyenv/wiki/Common-build-problems#make-your-pythons-a-little-faster
CFLAGS='-O2'

case `uname` in
  Darwin)
    export HOMEBREW_CASK_OPTS='--appdir=/Applications --caskroom=/opt/homebrew-cask/Caskroom'

    # Disable homebrew analytics
    export HOMEBREW_NO_ANALYTICS=1

    # MEMO: For pyenv instllation
    # ref: https://github.com/yyuu/pyenv/wiki/Common-build-problems#build-failed-error-the-python-zlib-extension-was-not-compiled-missing-the-zlib
    export CFLAGS="-I$(xcrun --show-sdk-path)/usr/include"
    ;;
  Linux)
    # gtags (GNU Global)
    export GTAGSCONF=/usr/local/share/gtags/gtags.conf
    ;;
esac
