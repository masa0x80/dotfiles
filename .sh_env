#!/bin/bash

# load proxy settings
test -r $HOME/.proxy && source $HOME/.proxy

# PATH
export PATH=/usr/local/bin:/bin:/usr/bin:/sbin:/usr/sbin

# anyenv settings
if test -d $HOME/.anyenv; then
  PATH=$HOME/.anyenv/bin:$PATH
fi
if type -a anyenv > /dev/null 2>&1; then
  eval "$(anyenv init -)"
fi

# golang
[ `uname` == Linux ] && PATH=$PATH:/usr/local/go/bin
export GOPATH=$HOME/.go
PATH=$PATH:$GOPATH/bin

# rust
PATH=$PATH:$HOME/.cargo/bin

# lang
export LANG=ja_JP.UTF-8

# XDG Base Directory Specification
export XDG_CONFIG_HOME=$HOME/.config
export XDG_CACHE_HOME=$HOME/.cache
export XDG_DATA_HOME=$HOME/.local/share

export ZDOTDIR=$XDG_CONFIG_HOME/zsh

# venv
export VIRTUAL_ENV_DISABLE_PROMPT=disabled
VENV_PATH=$XDG_DATA_HOME/venv/python3
if test ! -d $VENV_PATH; then
  python3 -m venv $VENV_PATH
  source $VENV_PATH/bin/activate
  pip install -r $HOME/.config/pip/global-requirements
  deactivate
fi

# gtags (GNU Global)
export GTAGSLABEL=pygments

export TERM=xterm-256color

export LESS='-RIXc'
export LESS_TERMCAP_mb=$'\e[1;32m'
export LESS_TERMCAP_md=$'\e[1;33m'
export LESS_TERMCAP_so=$'\e[7m'
export LESS_TERMCAP_us=$'\e[4m'
export LESS_TERMCAP_me=$'\e[0m'
export LESS_TERMCAP_se=$'\e[0m'
export LESS_TERMCAP_ue=$'\e[0m'

# fzf options
export FZF_DEFAULT_OPTS='--reverse
--no-sort
--extended
--ansi
--multi
--cycle
--bind=ctrl-j:accept,ctrl-u:page-up,ctrl-d:page-down,ctrl-z:toggle-all'

case `uname` in
  Darwin)
    # Disable homebrew analytics
    export HOMEBREW_NO_ANALYTICS=1
    ;;
  Linux)
    # gtags (GNU Global)
    export GTAGSCONF=/usr/local/share/gtags/gtags.conf
    ;;
esac
