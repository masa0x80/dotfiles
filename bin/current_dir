#!/usr/bin/env zsh

() {
  local delimiter="${1:-/}"
  if test "$(git rev-parse --is-inside-work-tree 2>/dev/null)" = 'true'; then
    local pwd=$(git rev-parse --show-toplevel)
    echo "$pwd:h:t$delimiter$pwd:t"
  else
    echo "$PWD:h:t$delimiter$PWD:t"
  fi
} "$1"
